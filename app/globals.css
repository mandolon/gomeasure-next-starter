
/* House number labels on map */
.hn-label { 
  font: 10px/1.1 system-ui, -apple-system, sans-serif; 
  padding: 1px 2px; 
  border: 0; 
  background: rgba(255, 255, 255, 0.9); 
  color: #333;
  font-weight: 600;
  border-radius: 2px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* CSS Variables */
:root{
  --wrap: 1100px;
  --bg: #fafafb;
  --card: #fff;
  --line: #e6e7eb;
  --ink: #171717;
  --ink-7: #3a3f45;
  --ink-5: #6b7280;
  --accent: #db0f83;
  --accent-10: rgba(219, 15, 131, 0.1);
  --accent-30: rgba(219, 15, 131, 0.3);
  --radius: 12px;
  --gap: 12px;
  --sticky-h: 64px;
  
  /* Consistent font sizes */
  --font-xl: 28px;
  --font-lg: 20px;
  --font-md: 16px;
  --font-sm: 14px;
  --font-xs: 12px;
}

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

html {
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font: 400 var(--font-md)/1.5 Figtree, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  touch-action: manipulation;
  overscroll-behavior-y: none;
  -webkit-tap-highlight-color: transparent;
}

.container{max-width:var(--wrap);margin:0 auto;padding:20px}
.page{padding-bottom:calc(var(--sticky-h) + 12px)}

/* Typography */
h1{margin:0 0 8px;font-size:var(--font-xl);font-weight:600;letter-spacing:-0.01em}
h2{margin:0 0 12px;font-size:var(--font-lg);font-weight:600}
h3{font-size:var(--font-md);font-weight:600;margin:16px 0 8px}
p{margin:0 0 12px;color:var(--ink-7);line-height:1.5;font-size:var(--font-md)}
.page-sub{margin:3px 0 8px;color:var(--ink-5);font-size:var(--font-sm)}
.muted{color:var(--ink-5);font-size:var(--font-sm)}

/* Links */
a{color:inherit;text-decoration:none}
a.underline{text-decoration:underline;text-underline-offset:2px;font-size:var(--font-sm)}

/* Header */
.site-header{
  background:#fff;
  border-bottom:1px solid var(--line);
  padding:0;
  margin-bottom:8px;
  min-height:64px;
}
.header-content{
  max-width:var(--wrap);
  margin:0 auto;
  padding:0 20px;
  display:flex;
  align-items:center;
  gap:20px;
  min-height:64px;
}
.header-back{
  width:40px;
  height:40px;
  border-radius:50%;
  border:1px solid var(--line);
  background:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:all .15s;
  flex-shrink:0;
}
.header-back:hover{
  background:#f5f5f5;
  border-color:#cfd2d6;
}
.header-back svg{
  width:20px;
  height:20px;
  stroke:var(--ink-7);
  stroke-width:2;
  fill:none;
}

@media(max-width:720px){
  .header-back{
    width:36px;
    height:36px;
    border:none;
    background:transparent;
  }
  .header-back svg{
    width:18px;
    height:18px;
    stroke:var(--ink-5);
  }
  .header-back:hover{
    background:rgba(0,0,0,0.05);
  }
}

/* Forms */
label{display:block;font-weight:600;margin:8px 0 6px;font-size:var(--font-sm)}
.input{
  width:100%;height:44px;padding:10px 14px;border:1px solid var(--line);
  border-radius:10px;outline:none;transition:border-color .15s, box-shadow .15s;
  font:400 var(--font-md)/1.2 Figtree,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:#fff;
}
.input:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(219,15,131,.1)}
.input.error{border-color:crimson}

/* Remove spinners on number inputs */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
input[type=number]{-moz-appearance:textfield;appearance:textfield}

/* Buttons */
.btn{
  height:40px;min-width:84px;padding:0 16px;border-radius:8px;border:1px solid transparent;
  display:inline-flex;align-items:center;justify-content:center;font-weight:600;cursor:pointer;
  transition:filter .15s;line-height:1;background:#fff;color:var(--ink);
  font-size:var(--font-md);
}
.btn:active{transform:none}
.btn-ghost{border-color:var(--line)}
.btn-ghost:hover{filter:brightness(1.02)}
.btn-primary{background:var(--accent);color:#fff;border-color:var(--accent);min-width:120px}
.btn-primary:hover{filter:brightness(1.05)}

/* Layout */
.grid{display:grid;grid-template-columns:2fr 1fr;gap:16px}
@media(max-width:980px){.grid{grid-template-columns:1fr}}
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px}
.sidebar-container{display:flex;flex-direction:column;gap:16px}

.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:var(--gap)}
@media(max-width:720px){.grid-2{grid-template-columns:1fr}}

/* Step Navigation */
.seqg-step-nav{margin:0 0 16px;padding-bottom:12px;border-bottom:1px solid var(--line)}
.seqg-steps{
  display:flex;align-items:center;gap:8px;list-style:none;padding:0;margin:0;
  white-space:normal;
  flex-wrap:wrap;
  overflow:visible;
}
.seqg-steps li{display:flex;align-items:center}
.seqg-steps li + li::before{content:"â€º";margin:0 6px;color:var(--ink-5);opacity:.6}
.seqg-steps a{position:relative;display:inline-flex;align-items:baseline;gap:6px;padding:4px 0;
  font-size:var(--font-sm);line-height:1.2;font-weight:500;color:var(--ink-7)}
.seqg-steps a:hover{color:var(--ink)}
.seqg-steps .step-index{font-size:var(--font-xs);color:var(--ink-5);font-variant-numeric:tabular-nums}
.seqg-steps a[aria-current="step"]{color:var(--ink);font-weight:600}
.seqg-steps a[aria-current="step"] .step-index{color:var(--accent)}
.seqg-steps a[aria-current="step"]::after{
  content:"";position:absolute;left:0;right:0;bottom:-13px;height:2px;background:var(--accent);border-radius:2px;
}

/* Property choices */
.choices{display:grid;gap:var(--gap)}
.choices--2x{grid-template-columns:1fr 1fr}
@media(max-width:520px){.choices--2x{grid-template-columns:1fr}}
.span-2{grid-column:1/-1}

.choice-wrap{position:relative}
.choice-input{position:absolute;opacity:0;pointer-events:none}
.choice{
  display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:flex-start;
  border:1px solid var(--line);background:#fff;border-radius:10px;padding:12px;cursor:pointer;transition:.15s;
  min-height:56px;
}
.choice:hover{border-color:#cfd2d6}
.dot-sel{width:16px;height:16px;border:2px solid #cfd2d6;border-radius:50%;margin-top:2px;position:relative}
.choice-input:checked + .choice{border-color:var(--accent);background:rgba(219,15,131,.05)}
.choice-input:checked + .choice .dot-sel{border-color:var(--accent);background:var(--accent)}
.choice-input:checked + .choice .dot-sel::after{content:"";position:absolute;inset:4px;background:#fff;border-radius:50%}

.icon{width:40px;height:40px;stroke:var(--accent);fill:none}
.title{font-weight:600;font-size:var(--font-md)}
.desc{color:var(--ink-5);font-size:var(--font-xs);margin-top:4px;font-weight:400;line-height:1.4}

.area-row{display:none;align-items:center;gap:6px;margin-top:12px}
.area-row .mini{height:40px;border-radius:8px}
.unit{font-size:var(--font-sm);color:var(--ink-5);font-weight:600}

.area-row--split{
  display:none;
  grid-template-columns:1fr 1fr;
  gap:12px;align-items:end;margin-top:12px
}
.choice-input:checked + .choice .area-row{display:flex}
.choice-input:checked + .choice .area-row--split{display:grid}

.mini-field span.labelline{
  display:flex;align-items:baseline;gap:6px;font-size:var(--font-xs);color:var(--ink-5);margin:0 0 4px
}
.unit-top{font-style:normal;font-weight:600;color:var(--ink-5);font-size:var(--font-xs)}

.actions{display:flex;gap:8px;justify-content:flex-end;margin-top:20px}
@media(max-width:720px){.actions{display:none}}

.hint{margin-top:20px}

/* Address autocomplete */
.ac-wrap{position:relative}
.ac-panel{
  position:absolute;
  left:0;
  right:0;
  top:calc(100% + 4px);
  z-index:5000;
  display:none;
  background:#fff;
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.12);
  max-height:320px;
  overflow:auto;
}
.ac-item{
  display:flex;
  gap:12px;
  align-items:center;
  padding:12px 14px;
  cursor:pointer;
  border-bottom:1px solid #f5f5f5;
  transition:background 0.15s;
}
.ac-item:last-child{border-bottom:0}
.ac-item:hover,.ac-item.is-active{background:#f8f9fa}
.ac-icon{
  width:20px;
  height:20px;
  color:var(--accent);
  flex-shrink:0;
}
.ac-text{
  flex:1;
  min-width:0;
}
.ac-title{
  font-size:14px;
  font-weight:600;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.ac-sub{
  font-size:13px;
  color:var(--ink-5);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* Map styles */
.map-toggle{margin:16px 0}
.map-toggle-btn{
  display:inline-flex;
  align-items:center;
  padding:10px 14px;
  border:1px solid var(--accent);
  border-radius:8px;
  background:#fff;
  color:var(--accent);
  font-weight:600;
  font-size:14px;
  cursor:pointer;
  transition:all 0.2s;
}
.map-toggle-btn:hover{
  background:var(--accent);
  color:#fff;
}

.map-wrap{display:none;margin-top:16px}
.map-wrap.open{display:block}

.map-instructions{
  font-size:13px;
  color:var(--ink-5);
  margin-bottom:10px;
}

#map{
  width:100%;
  height:400px;
  border:1px solid var(--line);
  border-radius:10px;
  background:#f0f0f0;
}
@media (max-width:680px){ 
  #map{ height:500px; }
}

.map-results{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:12px;
  padding:12px;
  background:#f8f9fa;
  border:1px solid var(--line);
  border-radius:10px;
  gap:12px;
  flex-wrap:wrap;
}
.measured-value{
  font-size:18px;
  font-weight:700;
  color:var(--accent);
}
.btn-save{
  padding:8px 20px;
  border:0;
  border-radius:8px;
  background:var(--accent);
  color:#fff;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.2s;
  white-space:nowrap;
}
.btn-save:hover{
  background:#c00e75;
}
.btn-save:disabled{
  opacity:0.5;
  cursor:not-allowed;
}

/* Accordion for scheduling */
.accordion{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:10px;background:#fff;cursor:pointer;margin-top:10px
}
.summary-stack{display:flex;flex-direction:column;gap:2px;align-items:flex-start}
.scope-label{font-weight:700;color:#000;font-size:15px;letter-spacing:-0.01em}
.scheduled-line{font-size:var(--font-sm);color:var(--ink-7)}
.accordion .caret{opacity:.55;transition:transform .18s ease}
.accordion[aria-expanded="true"] .caret{transform:rotate(90deg)}

/* Smooth open/close */
.collapse{
  overflow:hidden;max-height:0;opacity:0;transform:scaleY(.98);
  transform-origin:top;transition:max-height .35s ease, opacity .25s ease, transform .25s ease;
  will-change:max-height,opacity,transform;
}
.collapse.open{max-height:1400px;opacity:1;transform:scaleY(1)}

/* Calendar */
.calendar-container{border:1px solid var(--line);border-radius:10px;background:#fff;padding:12px;margin-top:10px}
.calendar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.calendar-month{font-size:14px;font-weight:600;color:var(--ink)}
.nav-single{display:flex;gap:8px;align-items:center}
.nav-btn{
  display:inline-flex;gap:6px;align-items:center;justify-content:center;
  height:28px;padding:0 10px;border:1px solid var(--line);border-radius:6px;background:#fff;
  cursor:pointer;transition:background .15s,border-color .15s;
  font-size:12px;color:var(--ink-7)
}
.nav-btn:hover{background:rgba(219,15,131,.05);border-color:var(--accent)}

.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.calendar-day-header{padding:2px 0 6px;text-align:center;font-size:11px;text-transform:uppercase;color:var(--ink-5);font-weight:500;letter-spacing:.5px}

.calendar-day{
  position:relative;display:grid;place-items:center;height:36px;cursor:pointer;font-size:12px;color:var(--ink)
}
.calendar-day .day-num{position:relative;z-index:1}
.calendar-day.available::before{
  content:"";position:absolute;inset:0;margin:auto;width:26px;height:26px;border:2px solid var(--accent-30);
  border-radius:50%;transition:all .15s;background:transparent;z-index:0;
}
.calendar-day.available:hover::before{box-shadow:0 0 0 3px var(--accent-10)}
.calendar-day.disabled{cursor:not-allowed;color:var(--ink-5);opacity:.45}
.calendar-day.disabled::before{display:none}
.calendar-day.selected{color:#fff;font-weight:600}
.calendar-day.selected::before{background:var(--accent);border-color:var(--accent)}

/* Time slots */
.field{margin:10px 0 6px}
.label{display:block;font-size:13px;color:var(--ink-7)}
.times{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-top:6px}
@media(max-width:760px){.times{grid-template-columns:repeat(3,1fr)}}
.time{
  padding:10px;text-align:center;font-size:14px;border:1px solid var(--line);
  border-radius:8px;background:#fff;cursor:pointer;transition:background .15s,color .15s;
}
.time:hover{background:rgba(219,15,131,.10)}
.time[data-selected="true"]{background:var(--accent);color:#fff;border-color:var(--accent)}

/* Contact & Review */
.field { margin: 10px 0; }
.label { display: flex; align-items: baseline; gap: 8px; font-size: 13px; color: var(--ink-7); }
.select, .textarea {
  width: 100%; padding: 12px 12px; border: 1px solid var(--line);
  border-radius: 10px; background: #fff; font-size: 16px; color: var(--ink);
  outline: none; transition: border-color .15s ease, box-shadow .15s ease;
  font-weight: 400;
}
.select:focus, .textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(219,15,131,.12);
}
.row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
@media(max-width:720px) { .row { grid-template-columns: 1fr; } }

/* Second contact toggle */
.contact-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 16px 0;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
  cursor: pointer;
}

.contact-toggle input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: var(--accent);
}

.contact-toggle label {
  margin: 0;
  font-weight: 500;
  cursor: pointer;
}

.second-contact {
  display: none;
  margin-top: 16px;
  padding: 16px;
  background: #f8f9fa;
  border-radius: 8px;
}

.second-contact.show {
  display: block;
}

/* Preparation link */
.prep-link {
  margin-top: 16px;
  padding: 12px;
  background: rgba(219,15,131,.05);
  border-radius: 8px;
  border: 1px solid rgba(219,15,131,.1);
}
.prep-link a {
  color: var(--accent);
  font-weight: 500;
  text-decoration: none;
}
.prep-link a:hover {
  text-decoration: underline;
}

/* Review page styles */
.review-grid { display: grid; gap: 16px; margin-top: 12px; }
.review-section { padding: 12px; background: #f8f9fa; border-radius: 8px; }
.review-section h3 { margin-top: 0; font-size: 14px; color: var(--ink-5); font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
.review-item { display: flex; justify-content: space-between; margin: 8px 0; }
.review-label { color: var(--ink-5); font-size: 14px; }
.review-value { font-weight: 500; font-size: 14px; }

/* Checkbox styles */
.checkbox-group { margin: 20px 0; }
.checkbox-wrap { display: flex; align-items: flex-start; gap: 10px; margin: 10px 0; }
.checkbox-wrap input[type="checkbox"] {
  width: 18px; height: 18px; margin-top: 2px; accent-color: var(--accent); cursor: pointer;
}
.checkbox-wrap label {
  margin: 0; font-weight: 400; font-size: 14px; line-height: 1.4; cursor: pointer;
}
.checkbox-wrap label a { color: var(--accent); text-decoration: underline; }

/* Booking policy disclaimer */
.disclaimer{
  margin:10px 0 0;padding:10px;border:1px solid var(--line);
  background:#f8f9fa;border-radius:8px;font-size:12px;color:var(--ink-7)
}

/* Sidebar styles */
.sidebar{display:flex;flex-direction:column;gap:16px}
.checklist{list-style:none;padding:0;margin:8px 0 0}
.checklist li{display:flex;gap:8px;margin:6px 0;font-size:14px;color:var(--ink-7)}
.check{color:var(--accent);font-weight:700}
.price-row{display:flex;justify-content:space-between;align-items:baseline;margin:4px 0}
.price-label{font-size:14px;color:var(--ink-5)}
.price-value{font-size:14px;font-weight:500}
.price-total{font-size:20px;font-weight:600;color:var(--ink);margin-top:8px;padding-top:8px;border-top:1px solid var(--line)}
.small{font-size:12px;color:var(--ink-5)}

.action-row{display:flex;gap:8px;justify-content:flex-end}

/* Custom marker styles */
.custom-map-marker {
  background: transparent;
  border: none;
  animation: dropIn 0.3s ease-out;
}

@keyframes dropIn {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Sticky footer */
.sticky-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #fff;
  border-top: 1px solid var(--line);
  padding: 12px 20px;
  z-index: 1000;
}

.sticky-content {
  max-width: var(--wrap);
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
}

@media (max-width: 721px) {
  :root {
    --sticky-h: 72px;
  }
  
  .sticky-footer {
    padding: 16px 20px;
  }
}
